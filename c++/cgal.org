#+title: work with CGAL
#+property: noweb tangle

# to get c++, you *enable* C, then *say* C++
# http://orgmode.org/worg/org-contrib/babel/languages/ob-doc-C.html

# www.cems.uvm.edu/~rsnapp/teaching/cs274/src/triangles/triangles.html

#+name: caution
#+begin_src text
CAUTION: The content of this file is automatically generated by Emacs orgmode
from the file triangles.org that should either be in this, or the parent
directory. Consequently, any modifications made to this file will likely be
ephemeral. Please edit cgal.org instead.
#+end_src


#+BEGIN_SRC C++ :flags -lCGAL -lgmp -L/sw/lib -I/sw/include -I/sw/opt/boost-1_58/include -I~/src/import/cgal/CGAL-4.8.1/
// <<caution>>

#include <CGAL/Exact_predicates_inexact_constructions_kernel.h>
#include <CGAL/Polygon_2.h>
#include <iostream>
typedef CGAL::Exact_predicates_inexact_constructions_kernel K;
typedef K::Point_2 Point;
typedef CGAL::Polygon_2<K> Polygon_2;
using std::cout; using std::endl;
int main()
{
  Point points[] = { Point(0,0), Point(5.1,0), Point(1,1), Point(0.5,6)};
  Polygon_2 pgn(points, points+4);
  // check if the polygon is simple.
  cout << "The polygon is " <<
    (pgn.is_simple() ? "" : "not ") << "simple." << endl;
  // check if the polygon is convex
  cout << "The polygon is " <<
    (pgn.is_convex() ? "" : "not ") << "convex." << endl;
  cout << pgn << endl;
  return 0;
}
#+END_SRC

#+RESULTS:
| The | polygon | is | simple. |         |   |   |     |   |
| The | polygon | is | not     | convex. |   |   |     |   |
| 4   | 0       | 0  | 5.1     |       0 | 1 | 1 | 0.5 | 6 |

#+BEGIN_SRC C++ :tangle cgal-play.cpp :noweb tangle
#include <CGAL/Exact_predicates_inexact_constructions_kernel.h>
#include <CGAL/ch_graham_andrew.h>

typedef CGAL::Exact_predicates_inexact_constructions_kernel K;
typedef K::Point_2 Point_2;

int main()
{
  CGAL::set_ascii_mode(std::cin);
  CGAL::set_ascii_mode(std::cout);
  std::istream_iterator< Point_2 >  in_start( std::cin );
  std::istream_iterator< Point_2 >  in_end;
  std::ostream_iterator< Point_2 >  out( std::cout, "\n" );
  CGAL::ch_graham_andrew( in_start, in_end, out );
  return 0;
}
#+end_src

here is [[http://homepages.math.uic.edu/~ddumas/teaching/2014/spring/mcs481/cgal-example/][an example]] on how to visualize cgal output using gnuplot.
but, of course, one needs to output something...

#+RESULTS:

